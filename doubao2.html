<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>è±†åŒ… - æ™ºèƒ½èŠå¤©åŠ©æ‰‹</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Tailwind é…ç½® -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#3498db',
            secondary: '#2980b9',
            accent: '#e74c3c',
            dark: '#2c3e50',
            light: '#f8f9fa',
            muted: '#95a5a6',
            chatBg: '#f0f9ff',
            userMsg: '#e6f7ff',
            aiMsg: '#ffffff'
          },
          fontFamily: {
            inter: ['Inter', 'sans-serif'],
          },
        },
      }
    }
  </script>
  
  <style type="text/tailwindcss">
    @layer utilities {
      .content-auto {
        content-visibility: auto;
      }
      .scrollbar-hide {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }
      .scrollbar-hide::-webkit-scrollbar {
        display: none;
      }
      .message-appear {
        animation: messageFadeIn 0.3s ease-out;
      }
      .typing-indicator {
        animation: typing 1.5s infinite;
      }
      @keyframes messageFadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
      }
      @keyframes typing {
        0%, 100% { width: 0.5em; }
        50% { width: 1.5em; }
      }
      .chat-shadow {
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
      }
    }
  </style>
</head>

<body class="font-inter bg-gray-50 text-dark min-h-screen flex flex-col">
  <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
  <header class="bg-white border-b border-gray-200 sticky top-0 z-50">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-16">
        <!-- å“ç‰ŒLogoå’Œæ ‡é¢˜ -->
        <div class="flex items-center space-x-3">
          <button id="sidebar-toggle" class="lg:hidden text-dark p-2 rounded-md hover:bg-gray-100">
            <i class="fa fa-bars text-xl"></i>
          </button>
          <a href="#" class="flex items-center space-x-2">
            <div class="w-10 h-10 bg-primary rounded-lg flex items-center justify-center">
              <i class="fa fa-brain text-white text-xl"></i>
            </div>
            <span class="text-xl font-bold text-primary">è±†åŒ…</span>
          </a>
          <span class="hidden lg:inline-block ml-2 text-gray-500">æ™ºèƒ½èŠå¤©åŠ©æ‰‹</span>
        </div>
        
        <!-- å³ä¾§åŠŸèƒ½æŒ‰é’® -->
        <div class="flex items-center space-x-4">
          <button class="p-2 rounded-full text-gray-500 hover:bg-gray-100 relative">
            <i class="fa fa-bell text-xl"></i>
            <span class="absolute top-1 right-1 w-2 h-2 bg-accent rounded-full"></span>
          </button>
          <button class="p-2 rounded-full text-gray-500 hover:bg-gray-100">
            <i class="fa fa-cog text-xl"></i>
          </button>
          <div class="h-8 w-px bg-gray-200 mx-1"></div>
          <div class="flex items-center space-x-2">
            <img src="https://picsum.photos/id/1005/40/40" alt="ç”¨æˆ·å¤´åƒ" class="w-8 h-8 rounded-full object-cover">
            <span class="hidden md:inline-block text-sm font-medium">æˆ‘çš„è´¦å·</span>
          </div>
        </div>
      </div>
    </div>
  </header>

  <div class="flex flex-1 overflow-hidden">
    <!-- ä¾§è¾¹æ  - å¯¹è¯åˆ—è¡¨ -->
    <aside id="sidebar" class="w-64 bg-white border-r border-gray-200 flex flex-col h-[calc(100vh-4rem)] overflow-y-auto scrollbar-hide transition-all duration-300 lg:translate-x-0 -translate-x-full fixed lg:static top-16 bottom-0 left-0 z-40">
      <div class="p-4 border-b border-gray-200">
        <div class="relative">
          <input type="text" placeholder="æœç´¢å¯¹è¯" class="w-full pl-10 pr-4 py-2 rounded-lg bg-gray-100 focus:outline-none focus:ring-2 focus:ring-primary/50">
          <i class="fa fa-search absolute left-3 top-3 text-gray-400"></i>
        </div>
      </div>
      
      <div class="flex-1 p-2">
        <!-- å›ºå®šå¯¹è¯ - è±†åŒ… -->
        <div class="flex items-center p-3 rounded-lg bg-primary/5 cursor-pointer hover:bg-primary/10 transition-colors">
          <div class="w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center mr-3">
            <i class="fa fa-brain text-primary"></i>
          </div>
          <div class="flex-1 min-w-0">
            <div class="flex justify-between items-start">
              <h3 class="font-medium text-sm truncate">è±†åŒ…</h3>
              <span class="text-xs text-primary">æ­£åœ¨è¾“å…¥</span>
            </div>
            <p class="text-xs text-muted mt-1 line-clamp-1">ä½ å¥½ï¼æœ‰ä»€ä¹ˆå¯ä»¥å¸®ä½ çš„å—ï¼Ÿ</p>
          </div>
        </div>
        
        <!-- å¯¹è¯åˆ—è¡¨ -->
        <div class="mt-2 space-y-1">
          <div class="flex items-center p-3 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors">
            <div class="w-10 h-10 rounded-full overflow-hidden mr-3">
              <img src="https://picsum.photos/id/1012/40/40" alt="å¯¹è¯å¤´åƒ" class="w-full h-full object-cover">
            </div>
            <div class="flex-1 min-w-0">
              <div class="flex justify-between items-start">
                <h3 class="font-medium text-sm truncate">é¡¹ç›®è®¨è®ºç»„</h3>
                <span class="text-xs text-muted">10:23</span>
              </div>
              <p class="text-xs text-muted mt-1 line-clamp-1">æç»ç†ï¼šä»Šå¤©çš„ä¼šè®®çºªè¦å‘æˆ‘ä¸€ä¸‹</p>
            </div>
          </div>
          
          <div class="flex items-center p-3 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors">
            <div class="w-10 h-10 rounded-full overflow-hidden mr-3">
              <img src="https://picsum.photos/id/1027/40/40" alt="å¯¹è¯å¤´åƒ" class="w-full h-full object-cover">
            </div>
            <div class="flex-1 min-w-0">
              <div class="flex justify-between items-start">
                <h3 class="font-medium text-sm truncate">ç‹åŒå­¦</h3>
                <span class="text-xs text-muted">æ˜¨å¤©</span>
              </div>
              <p class="text-xs text-muted mt-1 line-clamp-1">ä½œä¸šçš„ç¬¬ä¸‰é¢˜ä½ ä¼šåšå—ï¼Ÿ</p>
            </div>
          </div>
          
          <div class="flex items-center p-3 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors">
            <div class="w-10 h-10 rounded-full overflow-hidden mr-3">
              <img src="https://picsum.photos/id/1074/40/40" alt="å¯¹è¯å¤´åƒ" class="w-full h-full object-cover">
            </div>
            <div class="flex-1 min-w-0">
              <div class="flex justify-between items-start">
                <h3 class="font-medium text-sm truncate">æ—…æ¸¸è®¡åˆ’</h3>
                <span class="text-xs text-muted">å‰å¤©</span>
              </div>
              <p class="text-xs text-muted mt-1 line-clamp-1">æˆ‘ä»¬ä¸‹å‘¨æœ«å»æˆéƒ½æ€ä¹ˆæ ·ï¼Ÿ</p>
            </div>
          </div>
          
          <div class="flex items-center p-3 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors">
            <div class="w-10 h-10 rounded-full overflow-hidden mr-3">
              <img src="https://picsum.photos/id/1062/40/40" alt="å¯¹è¯å¤´åƒ" class="w-full h-full object-cover">
            </div>
            <div class="flex-1 min-w-0">
              <div class="flex justify-between items-start">
                <h3 class="font-medium text-sm truncate">å¥èº«æ•™ç»ƒ</h3>
                <span class="text-xs text-muted">3å¤©å‰</span>
              </div>
              <p class="text-xs text-muted mt-1 line-clamp-1">ä»Šå¤©çš„è®­ç»ƒè®¡åˆ’å‘ç»™ä½ äº†</p>
            </div>
          </div>
          
          <div class="flex items-center p-3 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors">
            <div class="w-10 h-10 rounded-full overflow-hidden mr-3">
              <img src="https://picsum.photos/id/1025/40/40" alt="å¯¹è¯å¤´åƒ" class="w-full h-full object-cover">
            </div>
            <div class="flex-1 min-w-0">
              <div class="flex justify-between items-start">
                <h3 class="font-medium text-sm truncate">å®¢æœæ”¯æŒ</h3>
                <span class="text-xs text-muted">1å‘¨å‰</span>
              </div>
              <p class="text-xs text-muted mt-1 line-clamp-1">æ‚¨çš„é—®é¢˜å·²ç»è§£å†³äº†å—ï¼Ÿ</p>
            </div>
          </div>
        </div>
      </div>
      
      <div class="p-3 border-t border-gray-200">
        <button class="w-full flex items-center justify-center space-x-2 py-2 px-4 rounded-lg bg-primary text-white text-sm font-medium hover:bg-secondary transition-colors">
          <i class="fa fa-plus"></i>
          <span>æ–°å»ºå¯¹è¯</span>
        </button>
      </div>
    </aside>

    <!-- ä¸»èŠå¤©åŒºåŸŸ -->
    <main class="flex-1 flex flex-col h-[calc(100vh-4rem)] overflow-hidden">
      <!-- èŠå¤©å¤´éƒ¨ -->
      <div class="bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between">
        <div class="flex items-center space-x-3">
          <button id="mobile-back" class="lg:hidden text-gray-500 p-2 rounded-md hover:bg-gray-100">
            <i class="fa fa-arrow-left"></i>
          </button>
          <div class="w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center mr-3">
            <i class="fa fa-brain text-primary"></i>
          </div>
          <div>
            <h2 class="font-semibold">è±†åŒ…</h2>
            <p class="text-xs text-muted">AIæ™ºèƒ½åŠ©æ‰‹</p>
          </div>
        </div>
        <div class="flex items-center space-x-3">
          <button class="p-2 text-gray-500 hover:bg-gray-100 rounded-md">
            <i class="fa fa-info-circle"></i>
          </button>
          <button class="p-2 text-gray-500 hover:bg-gray-100 rounded-md">
            <i class="fa fa-share-alt"></i>
          </button>
          <button class="p-2 text-gray-500 hover:bg-gray-100 rounded-md">
            <i class="fa fa-ellipsis-v"></i>
          </button>
        </div>
      </div>
      
      <!-- æ¶ˆæ¯å†…å®¹åŒºåŸŸ -->
      <div id="chat-messages" class="flex-1 p-4 overflow-y-auto scrollbar-hide bg-chatBg">
        <div class="space-y-6">
          <!-- AIæ¶ˆæ¯ - æ¬¢è¿æ¶ˆæ¯ -->
          <div class="flex justify-start message-appear">
            <div class="max-w-[80%]">
              <div class="flex items-start">
                <div class="w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center mr-3 flex-shrink-0">
                  <i class="fa fa-brain text-primary text-sm"></i>
                </div>
                <div class="bg-aiMsg rounded-lg rounded-tl-none p-4 chat-shadow">
                  <p class="text-sm text-dark">ä½ å¥½ï¼æˆ‘æ˜¯è±†åŒ…ï¼Œä½ çš„æ™ºèƒ½AIåŠ©æ‰‹ã€‚æœ‰ä»€ä¹ˆå¯ä»¥å¸®ä½ çš„å—ï¼Ÿæˆ‘å¯ä»¥å›ç­”é—®é¢˜ã€ç”Ÿæˆå†…å®¹ã€æä¾›å»ºè®®ï¼Œæˆ–è€…é™ªä½ èŠå¤©~</p>
                  <div class="mt-2 flex justify-end">
                    <span class="text-xs text-muted">09:30</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- ç”¨æˆ·æ¶ˆæ¯ - è¯¢é—®å¤©æ°” -->
          <div class="flex justify-end message-appear">
            <div class="max-w-[80%]">
              <div class="flex items-start justify-end">
                <div class="bg-userMsg rounded-lg rounded-tr-none p-4 chat-shadow">
                  <p class="text-sm text-dark">ä½ å¥½ï¼Œä»Šå¤©åŒ—äº¬çš„å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ</p>
                  <div class="mt-2 flex justify-end">
                    <span class="text-xs text-muted">09:31</span>
                  </div>
                </div>
                <img src="https://picsum.photos/id/1005/40/40" alt="ç”¨æˆ·å¤´åƒ" class="w-8 h-8 rounded-full object-cover ml-3 flex-shrink-0">
              </div>
            </div>
          </div>
          
          <!-- AIæ¶ˆæ¯ - å¤©æ°”å›ç­” -->
          <div class="flex justify-start message-appear">
            <div class="max-w-[80%]">
              <div class="flex items-start">
                <div class="w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center mr-3 flex-shrink-0">
                  <i class="fa fa-brain text-primary text-sm"></i>
                </div>
                <div class="bg-aiMsg rounded-lg rounded-tl-none p-4 chat-shadow">
                  <p class="text-sm text-dark">æ ¹æ®å®æ—¶å¤©æ°”æ•°æ®ï¼ŒåŒ—äº¬ä»Šå¤©ï¼ˆ6æœˆ17æ—¥ï¼‰çš„å¤©æ°”æƒ…å†µå¦‚ä¸‹ï¼š</p>
                  <p class="text-sm text-dark mt-2">â€¢ å¤©æ°”ï¼šæ™´è½¬å¤šäº‘</p>
                  <p class="text-sm text-dark">â€¢ æ¸©åº¦ï¼š22Â°C ~ 32Â°C</p>
                  <p class="text-sm text-dark">â€¢ é£åŠ›ï¼šä¸œå—é£ 2çº§</p>
                  <p class="text-sm text-dark mt-2">ä»Šå¤©å¤©æ°”è¾ƒçƒ­ï¼Œå»ºè®®åšå¥½é˜²æ™’æªæ–½ï¼ŒåŠæ—¶è¡¥å……æ°´åˆ†~</p>
                  <div class="mt-2 flex justify-end">
                    <span class="text-xs text-muted">09:32</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- ç”¨æˆ·æ¶ˆæ¯ - ç”Ÿæˆæ–‡æ¡ˆ -->
          <div class="flex justify-end message-appear">
            <div class="max-w-[80%]">
              <div class="flex items-start justify-end">
                <div class="bg-userMsg rounded-lg rounded-tr-none p-4 chat-shadow">
                  <p class="text-sm text-dark">èƒ½å¸®æˆ‘ç”Ÿæˆä¸€ä¸ªå¤å­£ä¿ƒé”€æ´»åŠ¨çš„æ–‡æ¡ˆå—ï¼Ÿé’ˆå¯¹å¹´è½»å¥³æ€§çš„æœè£…å“ç‰Œã€‚</p>
                  <div class="mt-2 flex justify-end">
                    <span class="text-xs text-muted">09:33</span>
                  </div>
                </div>
                <img src="https://picsum.photos/id/1005/40/40" alt="ç”¨æˆ·å¤´åƒ" class="w-8 h-8 rounded-full object-cover ml-3 flex-shrink-0">
              </div>
            </div>
          </div>
          
          <!-- AIæ¶ˆæ¯ - ç”Ÿæˆçš„æ–‡æ¡ˆ -->
          <div class="flex justify-start message-appear">
            <div class="max-w-[80%]">
              <div class="flex items-start">
                <div class="w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center mr-3 flex-shrink-0">
                  <i class="fa fa-brain text-primary text-sm"></i>
                </div>
                <div class="bg-aiMsg rounded-lg rounded-tl-none p-4 chat-shadow">
                  <p class="text-sm text-dark font-medium">ã€å¤æ—¥ç„•æ–° Â· è¡£è§å€¾å¿ƒã€‘</p>
                  <p class="text-sm text-dark mt-2">äº²çˆ±çš„æ—¶å°šè¾¾äººï¼š</p>
                  <p class="text-sm text-dark mt-2">å¤å¤©çš„é£å·²ç»å¹æ¥äº†è£™æ‘†çš„é‚€çº¦~ ä½ çš„è¡£æ©±æ˜¯å¦ä¹Ÿåœ¨æœŸå¾…ä¸€åœºç„•æ–°ï¼Ÿ</p>
                  <p class="text-sm text-dark mt-2">âœ¨ è±†åŒ…è¡£æ©±å¤å­£ä¿ƒé”€æ­£å¼å¼€å¯ âœ¨</p>
                  <p class="text-sm text-dark mt-2">â€¢ å…¨åœºæ–°å“8æŠ˜ï¼Œæ»¡399å…ƒå†å‡50å…ƒï¼</p>
                  <p class="text-sm text-dark">â€¢ æ¸…æ–°è¿è¡£è£™ã€å…ƒæ°”Tæ¤ã€æ˜¾ç˜¦ç‰›ä»”è£¤ï¼Œæ‰¿åŒ…ä½ æ•´ä¸ªå¤å¤©çš„ç©¿æ­çµæ„Ÿ</p>
                  <p class="text-sm text-dark">â€¢ ä¼šå‘˜ä¸“äº«ï¼šé¢å¤–èµ é€å¤æ—¥é™å®šé˜²æ™’è¢–å¥—ï¼ˆæ•°é‡æœ‰é™ï¼Œå…ˆåˆ°å…ˆå¾—ï¼‰</p>
                  <p class="text-sm text-dark mt-3">è¿™ä¸ªå¤å¤©ï¼Œè®©è‰²å½©ä¸å‰ªè£æˆä¸ºä½ çš„å¤æ—¥å®£è¨€ï¼Œæ¯ä¸€æ¬¡å‡ºåœºéƒ½æ˜¯ç„¦ç‚¹~</p>
                  <p class="text-sm text-dark mt-2">ğŸ‘‰ ç«‹å³é€‰è´­ï¼šç‚¹å‡»å‰å¾€å•†åŸ</p>
                  <div class="mt-2 flex justify-end">
                    <span class="text-xs text-muted">09:35</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- AIæ­£åœ¨è¾“å…¥çŠ¶æ€ -->
          <div class="flex justify-start">
            <div class="max-w-[80%]">
              <div class="flex items-start">
                <div class="w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center mr-3 flex-shrink-0">
                  <i class="fa fa-brain text-primary text-sm"></i>
                </div>
                <div class="bg-aiMsg rounded-lg rounded-tl-none p-4 chat-shadow">
                  <div class="flex space-x-1 typing-indicator">
                    <div class="w-2 h-2 bg-gray-400 rounded-full"></div>
                    <div class="w-2 h-2 bg-gray-400 rounded-full"></div>
                    <div class="w-2 h-2 bg-gray-400 rounded-full"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- æ¶ˆæ¯è¾“å…¥åŒºåŸŸ -->
      <div class="p-4 border-t border-gray-200 bg-white">
        <div class="flex items-end space-x-3">
          <div class="flex space-x-2">
            <button class="p-2 text-gray-500 hover:bg-gray-100 rounded-full">
              <i class="fa fa-image"></i>
            </button>
            <button class="p-2 text-gray-500 hover:bg-gray-100 rounded-full">
              <i class="fa fa-file-o"></i>
            </button>
            <button class="p-2 text-gray-500 hover:bg-gray-100 rounded-full">
              <i class="fa fa-smile-o"></i>
            </button>
            <button class="p-2 text-gray-500 hover:bg-gray-100 rounded-full">
              <i class="fa fa-microphone"></i>
            </button>
          </div>
          
          <div class="flex-1 relative">
            <textarea id="message-input" placeholder="è¾“å…¥æ¶ˆæ¯..." class="w-full p-3 pr-16 pl-4 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary resize-none h-12 text-sm transition-all" maxlength="1000"></textarea>
            <div class="absolute right-3 bottom-3 text-xs text-muted">0/1000</div>
          </div>
          
          <button id="send-message" class="w-10 h-10 bg-primary text-white rounded-full flex items-center justify-center hover:bg-secondary transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed">
            <i class="fa fa-paper-plane"></i>
          </button>
        </div>
      </div>
    </main>
  </div>

  <!-- ç§»åŠ¨ç«¯é®ç½©å±‚ -->
  <div id="sidebar-overlay" class="fixed inset-0 bg-black/50 z-30 lg:hidden hidden"></div>

  <script>
    // ä¾§è¾¹æ åˆ‡æ¢
    const sidebar = document.getElementById('sidebar');
    const sidebarToggle = document.getElementById('sidebar-toggle');
    const sidebarOverlay = document.getElementById('sidebar-overlay');
    const mobileBack = document.getElementById('mobile-back');
    
    function toggleSidebar() {
      sidebar.classList.toggle('-translate-x-full');
      sidebarOverlay.classList.toggle('hidden');
    }
    
    sidebarToggle.addEventListener('click', toggleSidebar);
    sidebarOverlay.addEventListener('click', toggleSidebar);
    mobileBack.addEventListener('click', toggleSidebar);
    
    // æ¶ˆæ¯è¾“å…¥ä¸å‘é€
    const messageInput = document.getElementById('message-input');
    const sendMessage = document.getElementById('send-message');
    const chatMessages = document.getElementById('chat-messages');
    
    function sendMessageHandler() {
      const message = messageInput.value.trim();
      if (message === '') return;
      
      // ç¦ç”¨å‘é€æŒ‰é’®ï¼Œé˜²æ­¢é‡å¤å‘é€
      sendMessage.disabled = true;
      
      // åˆ›å»ºç”¨æˆ·æ¶ˆæ¯å…ƒç´ 
      const userMessage = document.createElement('div');
      userMessage.className = 'flex justify-end message-appear';
      userMessage.innerHTML = `
        <div class="max-w-[80%]">
          <div class="flex items-start justify-end">
            <div class="bg-userMsg rounded-lg rounded-tr-none p-4 chat-shadow">
              <p class="text-sm text-dark">${message}</p>
              <div class="mt-2 flex justify-end">
                <span class="text-xs text-muted">${formatTime()}</span>
              </div>
            </div>
            <img src="https://picsum.photos/id/1005/40/40" alt="ç”¨æˆ·å¤´åƒ" class="w-8 h-8 rounded-full object-cover ml-3 flex-shrink-0">
          </div>
        </div>
      `;
      
      // æ·»åŠ åˆ°æ¶ˆæ¯åˆ—è¡¨å¹¶æ»šåŠ¨åˆ°åº•éƒ¨
      chatMessages.appendChild(userMessage);
      chatMessages.scrollTop = chatMessages.scrollHeight;
      
      // æ¸…ç©ºè¾“å…¥æ¡†
      messageInput.value = '';
      updateCharacterCount();
      
      // æ¨¡æ‹ŸAIå›å¤
      setTimeout(() => {
        generateAIResponse();
        // å¯ç”¨å‘é€æŒ‰é’®
        sendMessage.disabled = false;
      }, 1500);
    }
    
    // ç”ŸæˆAIå›å¤
    function generateAIResponse() {
      // å…ˆæ˜¾ç¤º"æ­£åœ¨è¾“å…¥"çŠ¶æ€
      const typingIndicator = document.createElement('div');
      typingIndicator.className = 'flex justify-start';
      typingIndicator.innerHTML = `
        <div class="max-w-[80%]">
          <div class="flex items-start">
            <div class="w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center mr-3 flex-shrink-0">
              <i class="fa fa-brain text-primary text-sm"></i>
            </div>
            <div class="bg-aiMsg rounded-lg rounded-tl-none p-4 chat-shadow">
              <div class="flex space-x-1 typing-indicator">
                <div class="w-2 h-2 bg-gray-400 rounded-full"></div>
                <div class="w-2 h-2 bg-gray-400 rounded-full"></div>
                <div class="w-2 h-2 bg-gray-400 rounded-full"></div>
              </div>
            </div>
          </div>
        </div>
      `;
      
      chatMessages.appendChild(typingIndicator);
      chatMessages.scrollTop = chatMessages.scrollHeight;
      
      // æ¨¡æ‹ŸAIæ€è€ƒæ—¶é—´
      setTimeout(() => {
        // ç§»é™¤è¾“å…¥æŒ‡ç¤ºå™¨
        typingIndicator.remove();
        
        // ç”ŸæˆAIæ¶ˆæ¯
        const aiResponse = getRandomAIResponse();
        const aiMessage = document.createElement('div');
        aiMessage.className = 'flex justify-start message-appear';
        aiMessage.innerHTML = `
          <div class="max-w-[80%]">
            <div class="flex items-start">
              <div class="w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center mr-3 flex-shrink-0">
                <i class="fa fa-brain text-primary text-sm"></i>
              </div>
              <div class="bg-aiMsg rounded-lg rounded-tl-none p-4 chat-shadow">
                <p class="text-sm text-dark">${aiResponse}</p>
                <div class="mt-2 flex justify-end">
                  <span class="text-xs text-muted">${formatTime()}</span>
                </div>
              </div>
            </div>
          </div>
        `;
        
        chatMessages.appendChild(aiMessage);
        chatMessages.scrollTop = chatMessages.scrollHeight;
      }, 1500);
    }
    
    // è·å–éšæœºAIå›å¤
    function getRandomAIResponse() {
      const responses = [
        "å¾ˆé«˜å…´èƒ½å¸®åˆ°ä½ ï¼å¦‚æœè¿˜æœ‰å…¶ä»–éœ€æ±‚ï¼Œéšæ—¶å‘Šè¯‰æˆ‘å“¦~",
        "è¿™ä¸ªé—®é¢˜å¾ˆæœ‰è¶£ï¼Œä½ è¿˜æƒ³äº†è§£æ›´å¤šç›¸å…³å†…å®¹å—ï¼Ÿ",
        "å¸Œæœ›æˆ‘çš„å›ç­”å¯¹ä½ æœ‰å¸®åŠ©~ æœ‰ä»€ä¹ˆå…¶ä»–éœ€è¦æ¢è®¨çš„å—ï¼Ÿ",
        "å¦‚æœéœ€è¦æ›´è¯¦ç»†çš„è§£é‡Šï¼Œæˆ‘å¯ä»¥å†è¯´æ˜ä¸€ä¸‹å“¦~",
        "ä½ è§‰å¾—è¿™ä¸ªç­”æ¡ˆæ€ä¹ˆæ ·ï¼Ÿæ˜¯å¦éœ€è¦æˆ‘è°ƒæ•´ä¸€ä¸‹è¡¨è¿°æ–¹å¼ï¼Ÿ"
      ];
      return responses[Math.floor(Math.random() * responses.length)];
    }
    
    // æ ¼å¼åŒ–æ—¶é—´
    function formatTime() {
      const now = new Date();
      const hours = now.getHours().toString().padStart(2, '0');
      const minutes = now.getMinutes().toString().padStart(2, '0');
      return `${hours}:${minutes}`;
    }
    
    // æ›´æ–°å­—ç¬¦è®¡æ•°
    function updateCharacterCount() {
      const countElement = document.querySelector('#message-input + .text-xs');
      const count = messageInput.value.length;
      countElement.textContent = `${count}/1000`;
      
      // è¶…è¿‡é™åˆ¶æ—¶ç¦ç”¨å‘é€
      sendMessage.disabled = count > 1000;
    }
    
    messageInput.addEventListener('input', updateCharacterCount);
    sendMessage.addEventListener('click', sendMessageHandler);
    messageInput.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' && !e.shiftKey) {
        e.preventDefault();
        sendMessageHandler();
      }
    });
    
    // é¡µé¢åŠ è½½å®Œæˆåæ»šåŠ¨åˆ°åº•éƒ¨
    window.addEventListener('load', () => {
      chatMessages.scrollTop = chatMessages.scrollHeight;
    });
  </script>
</body>
</html>